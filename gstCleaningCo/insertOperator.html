<!DOCTYPE html>
<html>
    <head>
        <link href="main.css" rel="stylesheet">
        <title>CLEANME!</title>
    </head>
    <body>
    <a href="index.html">HOME</a>
        <div>
            <h1>INSERT</h1>
            <table>
                <tr>
                    <td>
                        <div class="box">
                        <form id="insertOperator">
                            <h2>OPERATOR</h2>
                            <input class="inptext" type="text" id="cNameInsert" placeholder="INSERT NAME" >
                            <input class="inptext"  type="text" id="cSurnameInsert" placeholder="INSERT SURNAME" >
                            <input class="inptext" type="text" id="cCfInsert" placeholder="INSERT TAX CODE" >
                            <input class="inptext" type="password" id="cPswInsert" placeholder="INSERT PASSWORD" required>
                            <br>
                            <input class="btn-submit" type="submit" value="INSERT">
                        </form>
                        </div>         
                    </td>
                </tr>
            </table>
            <div id="createOperator"></div>
        </div>
        <script>
            document.getElementById("insertOperator").addEventListener('submit', function(event) {
                event.preventDefault();
            const cNameInsert = document.getElementById("cNameInsert").value;
            const cSurnameInsert = document.getElementById("cSurnameInsert").value;
            const cCfInsert = document.getElementById("cCfInsert").value;
            const cPswInsert = document.getElementById("cPswInsert").value;


            // Validazione dei dati
            if (!cNameInsert || !cSurnameInsert || !cCfInsert || !cPswInsert) {
                alert("Please fill in all the fields!");
                return; // Interrompe l'esecuzione se manca un campo
            }

            // Crea un oggetto con i dati
            const clientData = {
                name: cNameInsert,
                surname: cSurnameInsert,
                fiscalCode: cCfInsert,
                password: cPswInsert,
            };

            // Memorizza i dati nel localStorage (come esempio)
            let operators = JSON.parse(localStorage.getItem('operators')) || [];  // Recupera i dati precedenti se ci sono
            operators.push(clientData);  // Aggiungi il nuovo cliente
            localStorage.setItem('operators', JSON.stringify(operators));  // Salva di nuovo i dati nel localStorage

            // Visualizza un messaggio di successo
            alert("Operator added successfully!");

            // Pulisce il form
            document.getElementById("insertOperator").reset();
            });

           

        </script>
    </body>
</html>
